% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/WEMo_full.R
\name{wemo_full}
\alias{wemo_full}
\title{Run Full WEMo Workflow - Calculate Fetch, Interrogate Bathymetry, and Build Wind Waves}
\usage{
wemo_full(
  site_points,
  shoreline,
  bathy,
  wind_data,
  directions = unique(wind_data$direction),
  max_fetch = 10000,
  sample_dist = 5,
  water_level,
  depths_or_elev = "elev",
  extra_at_start = T
)
}
\arguments{
\item{site_points}{An \code{sf} or \code{SpatVector} point object representing the location(s)
for wave exposure analysis. Will be coerced to \code{sf}.}

\item{shoreline}{An \code{sf} or \code{SpatVector} polygon representing land or
shoreline features.}

\item{bathy}{A \code{SpatRaster} containing bathymetric data (in meters, negative
or positive depending on \code{depths_or_elev}).}

\item{wind_data}{A data frame with wind direction (\code{direction}), speed
(\code{speed}), and proporation wind blows from the direction (\code{proportion})}

\item{directions}{Numeric vector of directions (in degrees) to cast fetch
lines.}

\item{max_fetch}{Maximum fetch length (in map units). Default is 10,000.}

\item{sample_dist}{Distance (in map units) between sample points along each
fetch line. Default is 5.}

\item{water_level}{Numeric. The water level relative to bathymetry (in
meters).}

\item{depths_or_elev}{Character, either \code{'depths'} or \code{'elev'}. Specifies
whether bathymetry is interpreted as water depth (positive down) or
elevation (negative down). If \code{'elev'}, values are flipped to represent
depth.}

\item{extra_at_start}{Logical. Whether to add an extra bathymetry sample at
the fetch origin. Default is \code{TRUE}.}
}
\value{
A list of two elements:
\describe{
\item{\code{wemo_details}}{the original \code{fetch} object with the following stats about each wave arriving at the site from the direction of the fetch ray added:
\itemize{
\item \code{wave_height_final} - Final wave height at the end of the fetch (m)
\item \code{WEI} - Wave Energy Index
\item \code{wave_period} - Estimated wave period (s)
\item \code{wave_number} - Average wave number (rad/m)
\item \code{celerity_final} - Final wave phase speed (m/s)
\item \code{nnumber_final} - Final group velocity coefficient
}}
\item{\code{wemo_output}}{sf object with all the variables from \code{site_point} in addition to the following:\itemize{
\item \code{RWE} - Total relative wave exposure at the site
\item \code{avg_wave_height} - Mean wave height across all fetch rays (m)
\item \code{max_wave_height} - Maximum wave height across all fetch rays (m)
\item \code{direction_of_max_wave} - Direction(s) of maximum wave height (Degrees from North)
}}
}
}
\description{
This is the full workflow to do wave energy modeling using WEMo. It
calculates fetch, effective fetch, interrogates bathymetry, merges wind data,
builds waves along each fetch ray and then summarizes the wind driven waves
each \code{site_point}
}
\details{
First fetch is calculated for each \code{site_point} in each direction specified by \code{directions}. The function performs the following operations:
\enumerate{
\item Ensures coordinate reference systems (CRS) match between input layers
\item Filters out sites located on land
\item For each site and direction, creates a ray extending to max_fetch distance
\item Identifies intersections between rays and shoreline polygons
\item Calculates distances from sites to nearest intersection points
\item Returns fetch rays as linestring geometries with associated measurements
}
First, the function builds a wind-wave over input bathymetry and returns an
estimate of final wave height and related wave characteristics (e.g., wave
energy index, wave period, wave number, celerity).

Then, the function summarizes the waves from every direction for each site
and computes the summary statistic \code{RWE}.
}
\seealso{
\code{\link[=find_fetch]{find_fetch()}}, \code{\link[=prepare_WEMo_inputs]{prepare_WEMo_inputs()}}, \code{\link[=WEMo]{WEMo()}}
}
